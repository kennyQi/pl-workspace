<#assign contextPath=springMacroRequestContext.getContextPath() />
<#assign navTabid = navTabid!'mail-record' />
<#assign pathUrl = (contextPath+'/mail-record') />

<!-- Search Begin -->
<div class="pageHeader">
	<form id="pagerForm" rel="pagerForm" onsubmit="return navTabSearch(this);" action="${pathUrl}/list" method="get">
		<input type="hidden" name="pageNum" value="${pagination.pageNo?c}" />
		<input type="hidden" name="numPerPage" value="${pagination.pageSize?c}" />

		<div class="searchBar">
			<ul class="searchContent" style="display: initial;">
				<li style="width: 250px;">
					<label>邮箱服务器：</label>
					<input type="text" name="host" value="${cordQo.host}"/>
				</li>
				<li style="width: 250px;">
					<label>邮件协议：</label>
					<input type="text" name="protocol" value="${cordQo.protocol}"/>
				</li>
				<li style="width: 405px;">
					<label>发送时间：</label>
					<input class="date" type="text" name="timeBefore" value="${cordQo.timeBefore}" dateFmt="yyyy-MM-dd HH:mm:ss" readonly="true"/>
					&nbsp;&nbsp;-&nbsp;&nbsp;
					<input class="date" type="text" name="timeAfter" value="${cordQo.timeAfter}" dateFmt="yyyy-MM-dd HH:mm:ss" readonly="true"/>
				</li>
				<li style="width: 250px;">
					<label>用&nbsp;&nbsp;户&nbsp;&nbsp;名：</label>
					<input type="text" name="userName" value="${cordQo.userName}"/>
				</li>
				<li style="width: 250px;">
					<label>发&nbsp;&nbsp;送&nbsp;&nbsp;人：</label>
					<input type="text" name="sender" value="${cordQo.sender}"/>
				</li>
				<li style="width: 250px;">
					<label>接&nbsp;&nbsp;收&nbsp;&nbsp;人：</label>
					<input type="text" name="accept" value="${cordQo.acceptStr}"/>
				</li>
				<li style="width: 250px;">
					<label>邮件标题：</label>
					<input type="text" name="title" value="${cordQo.title}"/>
				</li>
				<li style="width: 250px;">
					<label>SSL认证：</label>
					<select class="combox" name="SSL" >
						<option value="">所有</option>
						<option value="true" ${(cordQo.isSSL()?? && cordQo.isSSL())?string('selected="selected"','')}>是</option>
						<option value="false" ${(cordQo.isSSL()?? && !cordQo.isSSL())?string('selected="selected"','')}>否</option>
					</select>
				</li>
				<li style="width: 250px;">
					<label>邮件状态：</label>
					<select class="combox" name="status" >
						<option value="-1">所有</option>
						<option value="0" ${(cordQo.status == 0)?string('selected="selected"','')}>成功</option>
						<option value="1" ${(cordQo.status == 1)?string('selected="selected"','')}>失败</option>
					</select>
				</li>
			</ul>
			<div class="subBar">
				<ul><li>
					<div class="buttonActive"><div class="buttonContent">
						<button type="submit">检索</button>
					</div></div>
				</li></ul>
			</div>
		</div>
	</form>
</div>
<!-- Search End -->

<!-- Body Begin -->
<div class="pageContent">
	<table class="table" width="100%" layoutH="138">
		<thead>
			<tr>
				<th width="15%">邮箱服务器</th>
				<th width="10%">邮件协议</th>
				<th width="15%">用户名</th>
				<th width="15%">发送人</th>
				<th width="15%">邮件标题</th>
				<th width="5%">SSL认证</th>
				<th width="5%">邮件状态</th>
				<th width="15%">发送时间</th>
				<th width="5%">操作</th>
			</tr>
		</thead>
		<tbody>
			<#list pagination.list as mail>
			<tr target="sid_mail" rel="${mail.id}">
				<td>${mail.host}</td>
				<td>${mail.protocol}</td>
				<td>${mail.userName}</td>
				<td>${mail.sender}</td>
				<td>${mail.title}</td>
				<td>${(mail.isSSL())?string('是','否')}</td>
				<td>${(mail.status == 0)?string('成功','失败')}</td>
				<td>${mail.createDate?string("yyyy-MM-dd HH:mm:ss")}</td>
				<td>
					<a title="查看" target="dialog" mask="true" href="${pathUrl}/show?id=${mail.id}&navTabid=${navTabid}" class="btnLook" width="581" height="390">查看</a>
				</td>
			</tr>
			</#list>
		</tbody>
	</table>
	<#include "/public/pagination/pagination.html">
</div>
<!-- Body End -->